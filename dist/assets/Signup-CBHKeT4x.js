import{r as a,d as j,j as e}from"./index-9BWRA_lX.js";import{a as p}from"./axios-CCb-kr4I.js";function S(){const[t,c]=a.useState(""),[r,g]=a.useState(""),[i,n]=a.useState(!1),[o,l]=a.useState(""),m=j(),h=async s=>{var d,u;s.preventDefault(),n(!0),l("");try{await p.post("/api/signup",{email:t,password:r}),await p.post("/api/login",{email:t,password:r}),m("/login")}catch(x){l(((u=(d=x.response)==null?void 0:d.data)==null?void 0:u.message)||"An error occurred")}finally{n(!1)}};return e.jsxs("div",{children:[e.jsx("h1",{children:"Sign Up"}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:t,onChange:s=>c(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",value:r,onChange:s=>g(s.target.value),required:!0})]}),e.jsx("button",{type:"submit",disabled:i,children:i?"Loading...":"Sign Up"}),o&&e.jsx("p",{style:{color:"red"},children:o})]})]})}export{S as default};
